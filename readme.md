# A
## Архитектура решения

Процесс обработки данных:
- Загрузка данных - через web интерфейс или http api пользователь 
загружает видео для обработки
- Полученное сервером видео сохраняется в S3 хранилище, запись о нём
вносится в БД
- ML-Worker запускает pipeline обработки видео, сохраняя полученные
данные в S3 и БД после каждого логического этапа
- После завершения обработки, видео получает в БД завершённый статус, о чём
может узнать пользователь через web интерфейс или http api

Компоненты:
- `src/database` - описание моделей в базе данных и функции для
взаимодействия с ними и БД.
- `src/s3` - реализация клиента для взаимодействия с S3 хранилищем
- `src/app.py` - описание middleware для реализации API
- `src/mq` - реализация RabbitMQ клиента (не применено)
- `src/ml` - ML и ML Worker
- `services` - описания сервисов, выполняемых в контейнерах
- `services/server` - Dockerfile, зависимости и скрипт инициализации
сервера API
- `services/nginx` - Dockerfile и конфигурация веб-сервера для
агрегирования API сервера, S3 хранилища и веб интерфейса

Запуск решения:
- Предварительный запуск S3 хранилища и базы данных 
- Запуск docker compose: произойдёт инициализация API сервера, по переменным
среды, указанным в файле `.env`, после чего будет запущен веб сервер nginx.
- Запуск ML worker'а в файле `src/ml/worker.ipynb`